
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>hydpy.models.lstream_v1 &#8212; HydPy 2.1-dev documentation</title>
    <link rel="stylesheet" href="../../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">HydPy 2.1-dev documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" accesskey="U">Module code</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for hydpy.models.lstream_v1</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1"># pylint: disable=line-too-long, wildcard-import, unused-wildcard-import</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">.. _Pegasus method: https://link.springer.com/article/10.1007/BF01932959</span>


<span class="sd">.. warning::</span>

<span class="sd">    Before using |lstream_v1|, read this documentation carefully.</span>
<span class="sd">    |lstream_v1| does not keep the water balance.  This flaw is</span>
<span class="sd">    under discussion at the moment and should be fixed within the</span>
<span class="sd">    next few weeks.</span>

<span class="sd">Version 1 of HydPy-L-Stream (called lstream_v1) implements the Williams</span>
<span class="sd">routing method in a similar manner as the LARSIM model used by the</span>
<span class="sd">German Federal Institute of Hydrology (BfG).  Essentially, routing is</span>
<span class="sd">performed via a simple linear storage in each simulation time step.</span>
<span class="sd">But the travel time (|RK|) is adapted to the actual flow conditions at</span>
<span class="sd">the beginning of each time step, making the approach nonlinear for</span>
<span class="sd">instationary inputs.  The storage coefficient is determined via the</span>
<span class="sd">Gauckler-Manning-Strickler formula, which is applied on the `triple</span>
<span class="sd">trapezoid profile`, shown in the following figure:</span>

<span class="sd">.. image:: HydPy-L-Stream_Version-1.png</span>

<span class="sd">|RK| depends on the length of the considered channel (|Laen|) and the</span>
<span class="sd">mean velocity within the channel. To calculate the velocity based on</span>
<span class="sd">the Manning formula, one needs to know the current water stage (|H|).</span>
<span class="sd">This water stage is determined by iteration based on the current</span>
<span class="sd">reference discharge (|QRef|).  As the relation between |H| and</span>
<span class="sd">discharge (|QG|) is discontinuous due to the sharp transitions of the</span>
<span class="sd">`triple trapezoid profile`, we decided on an iteration algorithm called</span>
<span class="sd">`Pegasus method`_, which is an improved `Regulari Falsi` method that</span>
<span class="sd">can be used when the bounds of the search interval are known.  At the</span>
<span class="sd">beginning of each simulation interval, we first determine the `highest</span>
<span class="sd">section` of the `triple trapozoid profile` containing water (for low flow</span>
<span class="sd">conditions, this would be the the main channel).  Then we use its lower</span>
<span class="sd">and upper height (in the given example zero and |HM|) as the initial</span>
<span class="sd">boundaries and refine them afterwards until the actual water stage |H|</span>
<span class="sd">is identified with sufficient accuracy (defined by the tolerance values</span>
<span class="sd">|HTol| and |QTol|).  This is much effort for a simple storage routing</span>
<span class="sd">method, but due to the superlinear convergence properties of the</span>
<span class="sd">`Pegasus method`_ the required computation times seem acceptable.</span>

<span class="sd">The above paragraph is a little inaccurate regarding the term `velocity`.</span>
<span class="sd">It is well known that a flood wave has usually a considerably higher</span>
<span class="sd">velocity than the water itself.  Hence |lstream_v1| should have a</span>
<span class="sd">tendency to overestimate travel times.  This is important to note, if</span>
<span class="sd">one determines the parameters of |lstream_v1| based on real channel</span>
<span class="sd">geometries and roughness coefficients, and should eventually be</span>
<span class="sd">compensated through increasing the roughness related calibration</span>
<span class="sd">coefficients |EKM| and |EKV|.  However, we took the decision to use</span>
<span class="sd">the water velocity, as the same assumption was initially made by the</span>
<span class="sd">original LARSIM model.  Later, LARSIM introduced the &quot;dVdQ&quot; option,</span>
<span class="sd">allowing to calculate |RK| as the actual wave travel time.  Maybe the</span>
<span class="sd">same should also be done for |lstream| through defining an additional</span>
<span class="sd">application model.</span>


<span class="sd">Integration test:</span>

<span class="sd">    The following calculations are performed over a period of 20 hours:</span>

<span class="sd">    &gt;&gt;&gt; from hydpy import pub, Timegrid, Timegrids, Nodes, Element</span>
<span class="sd">    &gt;&gt;&gt; pub.timegrids = Timegrids(Timegrid(&#39;01.01.2000 00:00&#39;,</span>
<span class="sd">    ...                                    &#39;01.01.2000 20:00&#39;,</span>
<span class="sd">    ...                                    &#39;1h&#39;))</span>

<span class="sd">    Import the model and define the time step size the parameter values</span>
<span class="sd">    given below should be related to:</span>

<span class="sd">    &gt;&gt;&gt; from hydpy.models.lstream_v1 import *</span>
<span class="sd">    &gt;&gt;&gt; parameterstep(&#39;1d&#39;)</span>

<span class="sd">    For testing purposes, the model input shall be retrieved from the nodes</span>
<span class="sd">    `input1` and `input2` and the model output shall be passed to node</span>
<span class="sd">    `output`.  Firstly, define all nodes:</span>

<span class="sd">    &gt;&gt;&gt; nodes = Nodes(&#39;input1&#39;, &#39;input2&#39;, &#39;output&#39;)</span>

<span class="sd">    Secondly, define the element &quot;stream&quot; and build the connections between</span>
<span class="sd">    the nodes defined above and the `lstream_v1` model instance:</span>

<span class="sd">    &gt;&gt;&gt; stream = Element(&#39;stream&#39;,</span>
<span class="sd">    ...                  inlets=[&#39;input1&#39;, &#39;input2&#39;],</span>
<span class="sd">    ...                  outlets=&#39;output&#39;)</span>
<span class="sd">    &gt;&gt;&gt; stream.connect(model)</span>

<span class="sd">    Prepare a test function object, which sets the initial inflow (|QZ|)</span>
<span class="sd">    and outflow (|QA|) to zero before each simulation run:</span>

<span class="sd">    &gt;&gt;&gt; from hydpy.core.testtools import IntegrationTest</span>
<span class="sd">    &gt;&gt;&gt; IntegrationTest.plotting_options.height = 550</span>
<span class="sd">    &gt;&gt;&gt; IntegrationTest.plotting_options.activated=(</span>
<span class="sd">    ...     states.qz, states.qa)</span>
<span class="sd">    &gt;&gt;&gt; test = IntegrationTest(stream,</span>
<span class="sd">    ...                        inits=((states.qz, 0.),</span>
<span class="sd">    ...                               (states.qa, 0.)))</span>
<span class="sd">    &gt;&gt;&gt; test.dateformat = &#39;%H:%M&#39;</span>

<span class="sd">    Define the geometry and roughness values of the test channel:</span>

<span class="sd">    &gt;&gt;&gt; bm(2.)</span>
<span class="sd">    &gt;&gt;&gt; bnm(4.)</span>
<span class="sd">    &gt;&gt;&gt; hm(1.)</span>
<span class="sd">    &gt;&gt;&gt; bv(.5, 10.)</span>
<span class="sd">    &gt;&gt;&gt; bbv(1., 2.)</span>
<span class="sd">    &gt;&gt;&gt; bnv(1., 8.)</span>
<span class="sd">    &gt;&gt;&gt; bnvr(20.)</span>
<span class="sd">    &gt;&gt;&gt; ekm(1.)</span>
<span class="sd">    &gt;&gt;&gt; skm(20.)</span>
<span class="sd">    &gt;&gt;&gt; ekv(1.)</span>
<span class="sd">    &gt;&gt;&gt; skv(60., 80.)</span>
<span class="sd">    &gt;&gt;&gt; gef(.02)</span>
<span class="sd">    &gt;&gt;&gt; laen(10.)</span>

<span class="sd">    Set the error tolerances of the iteration small enough, to not</span>
<span class="sd">    compromise the first six decimal places shown in the following</span>
<span class="sd">    results (this increases computation times and should not be</span>
<span class="sd">    necessary for usual applications of |lstream_v1|):</span>

<span class="sd">    &gt;&gt;&gt; qtol(1e-10)</span>
<span class="sd">    &gt;&gt;&gt; htol(1e-10)</span>

<span class="sd">    Define two flood events, one for each stream inflow:</span>

<span class="sd">    &gt;&gt;&gt; nodes.input1.sequences.sim.series = [</span>
<span class="sd">    ...                     0., 0., 1., 3., 2., 1., 0., 0., 0., 0.,</span>
<span class="sd">    ...                     0., 0., 0., 0., 0., 0., 0., 0., 0., 0.]</span>
<span class="sd">    &gt;&gt;&gt; nodes.input2.sequences.sim.series = [</span>
<span class="sd">    ...                     0., 1., 5., 9., 8., 5., 3., 2., 1., 0.,</span>
<span class="sd">    ...                     0., 0., 0., 0., 0., 0., 0., 0., 0., 0.]</span>

<span class="sd">    The following table and figure show all relevant input and output data</span>
<span class="sd">    as well as all relevant variables calculated internally.  Note that the</span>
<span class="sd">    total sum of all input values (|QZ|) is 41, but the total sum of all</span>
<span class="sd">    output values (|QA|) is above 46.  In our opinion, this is due to</span>
<span class="sd">    |lstream_v1| not applying the actual correction after Williams for</span>
<span class="sd">    adjusting the flow values to changes in the travel time |RK|.</span>
<span class="sd">    We hope to be able to fix this flaw soon...</span>

<span class="sd">    &gt;&gt;&gt; test(&#39;lstream_v1_ex1&#39;)</span>
<span class="sd">    |  date |     qref |        h |       am |       av |      avr |       ag |       um |       uv |      uvr |       qm |       qv |      qvr |       qg |       rk |   qz |       qa | input1 | input2 |   output |</span>
<span class="sd">    ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="sd">    | 00:00 |      0.0 |      0.0 |      0.0 | 0.0  0.0 | 0.0  0.0 |      0.0 |      0.0 | 0.0  0.0 | 0.0  0.0 |      0.0 | 0.0  0.0 | 0.0  0.0 |      0.0 |      0.0 |  0.0 |      0.0 |    0.0 |    0.0 |      0.0 |</span>
<span class="sd">    | 01:00 | 0.333333 |  0.16889 | 0.451875 | 0.0  0.0 | 0.0  0.0 | 0.451875 | 3.392702 | 0.0  0.0 | 0.0  0.0 | 0.333333 | 0.0  0.0 | 0.0  0.0 | 0.333333 | 3.765627 |  1.0 | 0.121767 |    0.0 |    1.0 | 0.121767 |</span>
<span class="sd">    | 02:00 | 2.373922 |  0.47093 | 1.828958 | 0.0  0.0 | 0.0  0.0 | 1.828958 | 5.883386 | 0.0  0.0 | 0.0  0.0 | 2.373922 | 0.0  0.0 | 0.0  0.0 | 2.373922 | 2.140104 |  6.0 | 1.455232 |    1.0 |    5.0 | 1.455232 |</span>
<span class="sd">    | 03:00 | 6.485077 | 0.759892 | 3.829526 | 0.0  0.0 | 0.0  0.0 | 3.829526 | 8.266229 | 0.0  0.0 | 0.0  0.0 | 6.485077 | 0.0  0.0 | 0.0  0.0 | 6.485077 | 1.640316 | 12.0 | 5.037344 |    3.0 |    9.0 | 5.037344 |</span>
<span class="sd">    | 04:00 | 9.012448 | 0.883278 | 4.887279 | 0.0  0.0 | 0.0  0.0 | 4.887279 | 9.283699 | 0.0  0.0 | 0.0  0.0 | 9.012448 | 0.0  0.0 | 0.0  0.0 | 9.012448 | 1.506336 | 10.0 | 7.876787 |    2.0 |    8.0 | 7.876787 |</span>
<span class="sd">    | 05:00 | 7.958929 | 0.834755 | 4.456775 | 0.0  0.0 | 0.0  0.0 | 4.456775 | 8.883568 | 0.0  0.0 | 0.0  0.0 | 7.958929 | 0.0  0.0 | 0.0  0.0 | 7.958929 | 1.555477 |  6.0 | 7.834286 |    1.0 |    5.0 | 7.834286 |</span>
<span class="sd">    | 06:00 | 5.611429 | 0.710593 | 3.440959 | 0.0  0.0 | 0.0  0.0 | 3.440959 | 7.859704 | 0.0  0.0 | 0.0  0.0 | 5.611429 | 0.0  0.0 | 0.0  0.0 | 5.611429 | 1.703349 |  3.0 | 6.288891 |    0.0 |    3.0 | 6.288891 |</span>
<span class="sd">    | 07:00 | 3.762964 | 0.588614 | 2.563094 | 0.0  0.0 | 0.0  0.0 | 2.563094 | 6.853835 | 0.0  0.0 | 0.0  0.0 | 3.762964 | 0.0  0.0 | 0.0  0.0 | 3.762964 | 1.892047 |  2.0 | 4.715447 |    0.0 |    2.0 | 4.715447 |</span>
<span class="sd">    | 08:00 | 2.571816 | 0.489778 | 1.939089 | 0.0  0.0 | 0.0  0.0 | 1.939089 | 6.038817 | 0.0  0.0 | 0.0  0.0 | 2.571816 | 0.0  0.0 | 0.0  0.0 | 2.571816 | 2.094379 |  1.0 |  3.47966 |    0.0 |    1.0 |  3.47966 |</span>
<span class="sd">    | 09:00 |  1.49322 | 0.373702 | 1.306015 | 0.0  0.0 | 0.0  0.0 | 1.306015 | 5.081623 | 0.0  0.0 | 0.0  0.0 |  1.49322 | 0.0  0.0 | 0.0  0.0 |  1.49322 | 2.429528 |  0.0 | 2.462745 |    0.0 |    0.0 | 2.462745 |</span>
<span class="sd">    | 10:00 | 0.820915 | 0.274466 | 0.850257 | 0.0  0.0 | 0.0  0.0 | 0.850257 | 4.263303 | 0.0  0.0 | 0.0  0.0 | 0.820915 | 0.0  0.0 | 0.0  0.0 | 0.820915 | 2.877065 |  0.0 | 1.739678 |    0.0 |    0.0 | 1.739678 |</span>
<span class="sd">    | 11:00 | 0.579893 | 0.228232 | 0.664823 | 0.0  0.0 | 0.0  0.0 | 0.664823 | 3.882048 | 0.0  0.0 | 0.0  0.0 | 0.579893 | 0.0  0.0 | 0.0  0.0 | 0.579893 | 3.184607 |  0.0 | 1.270855 |    0.0 |    0.0 | 1.270855 |</span>
<span class="sd">    | 12:00 | 0.423618 | 0.192604 | 0.533594 | 0.0  0.0 | 0.0  0.0 | 0.533594 | 3.588256 | 0.0  0.0 | 0.0  0.0 | 0.423618 | 0.0  0.0 | 0.0  0.0 | 0.423618 |  3.49892 |  0.0 | 0.954934 |    0.0 |    0.0 | 0.954934 |</span>
<span class="sd">    | 13:00 | 0.318311 | 0.164646 | 0.437725 | 0.0  0.0 | 0.0  0.0 | 0.437725 | 3.357705 | 0.0  0.0 | 0.0  0.0 | 0.318311 | 0.0  0.0 | 0.0  0.0 | 0.318311 | 3.819853 |  0.0 | 0.734987 |    0.0 |    0.0 | 0.734987 |</span>
<span class="sd">    | 14:00 | 0.244996 | 0.142354 | 0.365767 | 0.0  0.0 | 0.0  0.0 | 0.365767 | 3.173881 | 0.0  0.0 | 0.0  0.0 | 0.244996 | 0.0  0.0 | 0.0  0.0 | 0.244996 | 4.147091 |  0.0 | 0.577506 |    0.0 |    0.0 | 0.577506 |</span>
<span class="sd">    | 15:00 | 0.192502 | 0.124327 | 0.310483 | 0.0  0.0 | 0.0  0.0 | 0.310483 | 3.025226 | 0.0  0.0 | 0.0  0.0 | 0.192502 | 0.0  0.0 | 0.0  0.0 | 0.192502 | 4.480221 |  0.0 | 0.461977 |    0.0 |    0.0 | 0.461977 |</span>
<span class="sd">    | 16:00 | 0.153992 | 0.109562 | 0.267141 | 0.0  0.0 | 0.0  0.0 | 0.267141 | 2.903475 | 0.0  0.0 | 0.0  0.0 | 0.153992 | 0.0  0.0 | 0.0  0.0 | 0.153992 | 4.818789 |  0.0 | 0.375401 |    0.0 |    0.0 | 0.375401 |</span>
<span class="sd">    | 17:00 | 0.125134 |  0.09733 | 0.232553 | 0.0  0.0 | 0.0  0.0 | 0.232553 | 2.802606 | 0.0  0.0 | 0.0  0.0 | 0.125134 | 0.0  0.0 | 0.0  0.0 | 0.125134 | 5.162328 |  0.0 | 0.309291 |    0.0 |    0.0 | 0.309291 |</span>
<span class="sd">    | 18:00 | 0.103097 |  0.08709 | 0.204518 | 0.0  0.0 | 0.0  0.0 | 0.204518 |  2.71816 | 0.0  0.0 | 0.0  0.0 | 0.103097 | 0.0  0.0 | 0.0  0.0 | 0.103097 | 5.510384 |  0.0 | 0.257961 |    0.0 |    0.0 | 0.257961 |</span>
<span class="sd">    | 19:00 | 0.085987 | 0.078434 | 0.181476 | 0.0  0.0 | 0.0  0.0 | 0.181476 | 2.646786 | 0.0  0.0 | 0.0  0.0 | 0.085987 | 0.0  0.0 | 0.0  0.0 | 0.085987 | 5.862528 |  0.0 | 0.217508 |    0.0 |    0.0 | 0.217508 |</span>

<span class="sd">    .. raw:: html</span>

<span class="sd">        &lt;iframe</span>
<span class="sd">            src=&quot;lstream_v1_ex1.html&quot;</span>
<span class="sd">            width=&quot;100%&quot;</span>
<span class="sd">            height=&quot;580&quot;</span>
<span class="sd">            frameborder=0</span>
<span class="sd">        &gt;&lt;/iframe&gt;</span>

<span class="sd">    In the above example, water flows in the main channel only.  At</span>
<span class="sd">    least one example needs to be added, in which also the river</span>
<span class="sd">    banks are activated.  This could for example be done by reducing</span>
<span class="sd">    channel slope:</span>

<span class="sd">    &gt;&gt;&gt; gef(.002)</span>


<span class="sd">&quot;&quot;&quot;</span>
<span class="c1"># import...</span>
<span class="c1"># ...from standard library</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">division</span><span class="p">,</span> <span class="n">print_function</span>
<span class="c1"># ...from HydPy</span>
<span class="kn">from</span> <span class="nn">hydpy.core.modelimports</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">hydpy.core</span> <span class="k">import</span> <span class="n">modeltools</span>
<span class="kn">from</span> <span class="nn">hydpy.core</span> <span class="k">import</span> <span class="n">parametertools</span>
<span class="kn">from</span> <span class="nn">hydpy.core</span> <span class="k">import</span> <span class="n">sequencetools</span>
<span class="c1"># ...from lstream</span>
<span class="kn">from</span> <span class="nn">hydpy.models.lstream</span> <span class="k">import</span> <span class="n">lstream_model</span>
<span class="kn">from</span> <span class="nn">hydpy.models.lstream</span> <span class="k">import</span> <span class="n">lstream_control</span>
<span class="kn">from</span> <span class="nn">hydpy.models.lstream</span> <span class="k">import</span> <span class="n">lstream_derived</span>
<span class="kn">from</span> <span class="nn">hydpy.models.lstream</span> <span class="k">import</span> <span class="n">lstream_fluxes</span>
<span class="kn">from</span> <span class="nn">hydpy.models.lstream</span> <span class="k">import</span> <span class="n">lstream_states</span>
<span class="kn">from</span> <span class="nn">hydpy.models.lstream</span> <span class="k">import</span> <span class="n">lstream_aides</span>
<span class="kn">from</span> <span class="nn">hydpy.models.lstream</span> <span class="k">import</span> <span class="n">lstream_inlets</span>
<span class="kn">from</span> <span class="nn">hydpy.models.lstream</span> <span class="k">import</span> <span class="n">lstream_outlets</span>


<div class="viewcode-block" id="Model"><a class="viewcode-back" href="../../../lstream_v1.html#hydpy.models.lstream_v1.Model">[docs]</a><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">modeltools</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;LARSIM-Stream (Manning) version of HydPy-L-Stream (lstream_v1).&quot;&quot;&quot;</span>
    <span class="n">_INLET_METHODS</span> <span class="o">=</span> <span class="p">(</span><span class="n">lstream_model</span><span class="o">.</span><span class="n">pick_q_v1</span><span class="p">,)</span>
    <span class="n">_RUN_METHODS</span> <span class="o">=</span> <span class="p">(</span><span class="n">lstream_model</span><span class="o">.</span><span class="n">calc_qref_v1</span><span class="p">,</span>
                    <span class="n">lstream_model</span><span class="o">.</span><span class="n">calc_hmin_qmin_hmax_qmax_v1</span><span class="p">,</span>
                    <span class="n">lstream_model</span><span class="o">.</span><span class="n">calc_h_v1</span><span class="p">,</span>
                    <span class="n">lstream_model</span><span class="o">.</span><span class="n">calc_ag_v1</span><span class="p">,</span>
                    <span class="n">lstream_model</span><span class="o">.</span><span class="n">calc_rk_v1</span><span class="p">,</span>
                    <span class="n">lstream_model</span><span class="o">.</span><span class="n">calc_qa_v1</span><span class="p">)</span>
    <span class="n">_ADD_METHODS</span> <span class="o">=</span> <span class="p">(</span><span class="n">lstream_model</span><span class="o">.</span><span class="n">calc_am_um_v1</span><span class="p">,</span>
                    <span class="n">lstream_model</span><span class="o">.</span><span class="n">calc_qm_v1</span><span class="p">,</span>
                    <span class="n">lstream_model</span><span class="o">.</span><span class="n">calc_av_uv_v1</span><span class="p">,</span>
                    <span class="n">lstream_model</span><span class="o">.</span><span class="n">calc_qv_v1</span><span class="p">,</span>
                    <span class="n">lstream_model</span><span class="o">.</span><span class="n">calc_avr_uvr_v1</span><span class="p">,</span>
                    <span class="n">lstream_model</span><span class="o">.</span><span class="n">calc_qvr_v1</span><span class="p">,</span>
                    <span class="n">lstream_model</span><span class="o">.</span><span class="n">calc_qg_v1</span><span class="p">)</span>
    <span class="n">_OUTLET_METHODS</span> <span class="o">=</span> <span class="p">(</span><span class="n">lstream_model</span><span class="o">.</span><span class="n">pass_q_v1</span><span class="p">,)</span></div>


<div class="viewcode-block" id="ControlParameters"><a class="viewcode-back" href="../../../lstream_v1.html#hydpy.models.lstream_v1.ControlParameters">[docs]</a><span class="k">class</span> <span class="nc">ControlParameters</span><span class="p">(</span><span class="n">parametertools</span><span class="o">.</span><span class="n">SubParameters</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Control parameters of lstream_v1, directly defined by the user.&quot;&quot;&quot;</span>
    <span class="n">_PARCLASSES</span> <span class="o">=</span> <span class="p">(</span><span class="n">lstream_control</span><span class="o">.</span><span class="n">Laen</span><span class="p">,</span>
                   <span class="n">lstream_control</span><span class="o">.</span><span class="n">Gef</span><span class="p">,</span>
                   <span class="n">lstream_control</span><span class="o">.</span><span class="n">HM</span><span class="p">,</span>
                   <span class="n">lstream_control</span><span class="o">.</span><span class="n">BM</span><span class="p">,</span>
                   <span class="n">lstream_control</span><span class="o">.</span><span class="n">BV</span><span class="p">,</span>
                   <span class="n">lstream_control</span><span class="o">.</span><span class="n">BBV</span><span class="p">,</span>
                   <span class="n">lstream_control</span><span class="o">.</span><span class="n">BNM</span><span class="p">,</span>
                   <span class="n">lstream_control</span><span class="o">.</span><span class="n">BNV</span><span class="p">,</span>
                   <span class="n">lstream_control</span><span class="o">.</span><span class="n">BNVR</span><span class="p">,</span>
                   <span class="n">lstream_control</span><span class="o">.</span><span class="n">SKM</span><span class="p">,</span>
                   <span class="n">lstream_control</span><span class="o">.</span><span class="n">SKV</span><span class="p">,</span>
                   <span class="n">lstream_control</span><span class="o">.</span><span class="n">EKM</span><span class="p">,</span>
                   <span class="n">lstream_control</span><span class="o">.</span><span class="n">EKV</span><span class="p">,</span>
                   <span class="n">lstream_control</span><span class="o">.</span><span class="n">QTol</span><span class="p">,</span>
                   <span class="n">lstream_control</span><span class="o">.</span><span class="n">HTol</span><span class="p">)</span></div>


<div class="viewcode-block" id="DerivedParameters"><a class="viewcode-back" href="../../../lstream_v1.html#hydpy.models.lstream_v1.DerivedParameters">[docs]</a><span class="k">class</span> <span class="nc">DerivedParameters</span><span class="p">(</span><span class="n">parametertools</span><span class="o">.</span><span class="n">SubParameters</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Derived parameters of lstream_v1, indirectly defined by the user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_PARCLASSES</span> <span class="o">=</span> <span class="p">(</span><span class="n">lstream_derived</span><span class="o">.</span><span class="n">HV</span><span class="p">,</span>
                   <span class="n">lstream_derived</span><span class="o">.</span><span class="n">QM</span><span class="p">,</span>
                   <span class="n">lstream_derived</span><span class="o">.</span><span class="n">QV</span><span class="p">,</span>
                   <span class="n">lstream_derived</span><span class="o">.</span><span class="n">Sek</span><span class="p">)</span></div>


<div class="viewcode-block" id="FluxSequences"><a class="viewcode-back" href="../../../lstream_v1.html#hydpy.models.lstream_v1.FluxSequences">[docs]</a><span class="k">class</span> <span class="nc">FluxSequences</span><span class="p">(</span><span class="n">sequencetools</span><span class="o">.</span><span class="n">FluxSequences</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Flux sequences of LARSIM-ME.&quot;&quot;&quot;</span>
    <span class="n">_SEQCLASSES</span> <span class="o">=</span> <span class="p">(</span><span class="n">lstream_fluxes</span><span class="o">.</span><span class="n">QRef</span><span class="p">,</span>
                   <span class="n">lstream_fluxes</span><span class="o">.</span><span class="n">H</span><span class="p">,</span>
                   <span class="n">lstream_fluxes</span><span class="o">.</span><span class="n">AM</span><span class="p">,</span>
                   <span class="n">lstream_fluxes</span><span class="o">.</span><span class="n">AV</span><span class="p">,</span>
                   <span class="n">lstream_fluxes</span><span class="o">.</span><span class="n">AVR</span><span class="p">,</span>
                   <span class="n">lstream_fluxes</span><span class="o">.</span><span class="n">AG</span><span class="p">,</span>
                   <span class="n">lstream_fluxes</span><span class="o">.</span><span class="n">UM</span><span class="p">,</span>
                   <span class="n">lstream_fluxes</span><span class="o">.</span><span class="n">UV</span><span class="p">,</span>
                   <span class="n">lstream_fluxes</span><span class="o">.</span><span class="n">UVR</span><span class="p">,</span>
                   <span class="n">lstream_fluxes</span><span class="o">.</span><span class="n">QM</span><span class="p">,</span>
                   <span class="n">lstream_fluxes</span><span class="o">.</span><span class="n">QV</span><span class="p">,</span>
                   <span class="n">lstream_fluxes</span><span class="o">.</span><span class="n">QVR</span><span class="p">,</span>
                   <span class="n">lstream_fluxes</span><span class="o">.</span><span class="n">QG</span><span class="p">,</span>
                   <span class="n">lstream_fluxes</span><span class="o">.</span><span class="n">RK</span><span class="p">)</span></div>


<div class="viewcode-block" id="StateSequences"><a class="viewcode-back" href="../../../lstream_v1.html#hydpy.models.lstream_v1.StateSequences">[docs]</a><span class="k">class</span> <span class="nc">StateSequences</span><span class="p">(</span><span class="n">sequencetools</span><span class="o">.</span><span class="n">StateSequences</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;State sequences of lstream_v1.&quot;&quot;&quot;</span>
    <span class="n">_SEQCLASSES</span> <span class="o">=</span> <span class="p">(</span><span class="n">lstream_states</span><span class="o">.</span><span class="n">QZ</span><span class="p">,</span>
                   <span class="n">lstream_states</span><span class="o">.</span><span class="n">QA</span><span class="p">)</span></div>


<div class="viewcode-block" id="AideSequences"><a class="viewcode-back" href="../../../lstream_v1.html#hydpy.models.lstream_v1.AideSequences">[docs]</a><span class="k">class</span> <span class="nc">AideSequences</span><span class="p">(</span><span class="n">sequencetools</span><span class="o">.</span><span class="n">AideSequences</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Aide sequences of lstream_v1.&quot;&quot;&quot;</span>
    <span class="n">_SEQCLASSES</span> <span class="o">=</span> <span class="p">(</span><span class="n">lstream_aides</span><span class="o">.</span><span class="n">Temp</span><span class="p">,</span>
                   <span class="n">lstream_aides</span><span class="o">.</span><span class="n">HMin</span><span class="p">,</span>
                   <span class="n">lstream_aides</span><span class="o">.</span><span class="n">HMax</span><span class="p">,</span>
                   <span class="n">lstream_aides</span><span class="o">.</span><span class="n">QMin</span><span class="p">,</span>
                   <span class="n">lstream_aides</span><span class="o">.</span><span class="n">QMax</span><span class="p">,</span>
                   <span class="n">lstream_aides</span><span class="o">.</span><span class="n">QTest</span><span class="p">)</span></div>


<div class="viewcode-block" id="InletSequences"><a class="viewcode-back" href="../../../lstream_v1.html#hydpy.models.lstream_v1.InletSequences">[docs]</a><span class="k">class</span> <span class="nc">InletSequences</span><span class="p">(</span><span class="n">sequencetools</span><span class="o">.</span><span class="n">LinkSequences</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Upstream link sequences of lstream_v1.&quot;&quot;&quot;</span>
    <span class="n">_SEQCLASSES</span> <span class="o">=</span> <span class="p">(</span><span class="n">lstream_inlets</span><span class="o">.</span><span class="n">Q</span><span class="p">,)</span></div>


<div class="viewcode-block" id="OutletSequences"><a class="viewcode-back" href="../../../lstream_v1.html#hydpy.models.lstream_v1.OutletSequences">[docs]</a><span class="k">class</span> <span class="nc">OutletSequences</span><span class="p">(</span><span class="n">sequencetools</span><span class="o">.</span><span class="n">LinkSequences</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Downstream link sequences of lstream_v1.&quot;&quot;&quot;</span>
    <span class="n">_SEQCLASSES</span> <span class="o">=</span> <span class="p">(</span><span class="n">lstream_outlets</span><span class="o">.</span><span class="n">Q</span><span class="p">,)</span></div>


<span class="n">autodoc_applicationmodel</span><span class="p">()</span>

<span class="c1"># pylint: disable=invalid-name</span>
<span class="n">tester</span> <span class="o">=</span> <span class="n">Tester</span><span class="p">()</span>
<span class="n">cythonizer</span> <span class="o">=</span> <span class="n">Cythonizer</span><span class="p">()</span>
<span class="n">cythonizer</span><span class="o">.</span><span class="n">complete</span><span class="p">()</span>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../../index.html">Table Of Contents</a></h3>
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../framework.html">Framework Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modelcollection.html">Model Collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../development.html">Development</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">HydPy 2.1-dev documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Christoph Tyralla.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>