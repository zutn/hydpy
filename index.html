
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>HydPy &#8212; HydPy 2.1-dev documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Framework Tools" href="framework.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="framework.html" title="Framework Tools"
             accesskey="N">next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">HydPy 2.1-dev documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="hydpy">
<span id="id1"></span><h1>HydPy<a class="headerlink" href="#hydpy" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a> is an interactive framework for developing and applying
different types of hydrological models.  It was originally developed
at the <a class="reference external" href="http://www.hydrology.ruhr-uni-bochum.de/index.html.en">Ruhr-University Bochum</a> for specific research purposes.
Later it was extended on behalf of the <a class="reference external" href="http://www.bafg.de/EN/Home/homepage_en_node.html;jsessionid=E48E3BA5184A678BB2D23AD16AD5FC09.live21304">German Federal Institute of
Hydrology</a> in order to be applicable in practical applications like
runoff forecasting in large river basins.  Now it is being maintained
by <a class="reference external" href="https://www.bjoernsen.de/index.php?id=bjoernsen&amp;L=2">Björnsen Consulting Engineers</a>.</p>
<p><a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a> is intended to be a modern open source software.  It is based
on the programming language <a class="reference external" href="http://www.python.org/">Python</a>, which is commonly used in
many scientific fields.  Through using different well-established
<a class="reference external" href="http://www.python.org/">Python</a> libraries and design principles, high quality and transparency
standards are targeted.  In order to avoid writing model cores (like
<a class="reference internal" href="lland_v1.html#module-hydpy.models.lland_v1" title="hydpy.models.lland_v1"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lland_v1</span></code></a>) in a more native programming language, <a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a> includes
a <a class="reference external" href="http://www.cython.org/">Cython</a> based mechanism to automatically translate Python code to C
code and to compile it.</p>
<p><a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a> has no graphical user interface. Instead, <a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a>
is controlled by  <a class="reference external" href="http://www.python.org/">Python</a> scripts.  These scripts help to increase
the reproducibility of studies performed with <a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a>, because
they can be easily shared and repeatedly executed.  This facilitates
discussing possible weaknesses of <a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a> and its implemented
models and comparing different methodical approaches (e.g. different
strategies to calibrate model parameters).  However, if you are not an
experienced hydrologist with basic programming skills, you may need
some help to become acquainted with <a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a>.</p>
<p><a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a> is hosted in a <a class="reference external" href="https://github.com/tyralla/hydpy">GitHub repository</a> and everyone
is allowed to download, modify, and use it.  But when passing the
(possibly modified) code to third parties, one has to be aware that
the selected <a class="reference external" href="https://www.gnu.org/licenses/lgpl-3.0.en.html">GNU Lesser General Public License 3</a> cannot be changed
to a “less open source” license.  This means that if you e.g.
implement your own model in <a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a>, you can be sure that all
possible further developments of your model code are still open
source and the mentioned third parties are allowed to pass this
modified source code to you.</p>
<p><a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a> offers many functionalities to make the implemented
models as transparent and reliable as possible.  For this reason,
the online documentation is automatically updated for each new
<a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a> version and includes  a <cite>documentation tests</cite> mechanism
thas ensures that <a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a> is working properly and that the
documentation is actually up-to-date.</p>
<p>See for example the documentation of the (very simple) method
<a class="reference internal" href="lland.html#hydpy.models.lland.lland_model.calc_nkor_v1" title="hydpy.models.lland.lland_model.calc_nkor_v1"><code class="xref py py-func docutils literal notranslate"><span class="pre">calc_nkor_v1()</span></code></a>.  The text describes what the method does
and what input data it requires.  It is comprehensive but, as in common
documentations, technical reports and scientific articles, could be
outdated or be wrong in other ways.  This is not the case for the
example calculation shown in the green box.  This example is actual
<a class="reference external" href="http://www.python.org/">Python</a> code that shows how method <a class="reference internal" href="lland.html#hydpy.models.lland.lland_model.calc_nkor_v1" title="hydpy.models.lland.lland_model.calc_nkor_v1"><code class="xref py py-func docutils literal notranslate"><span class="pre">calc_nkor_v1()</span></code></a> can be
used and how different input values (for variables <a class="reference internal" href="lland.html#hydpy.models.lland.lland_inputs.Nied" title="hydpy.models.lland.lland_inputs.Nied"><code class="xref py py-class docutils literal notranslate"><span class="pre">Nied</span></code></a>
and <a class="reference internal" href="lland.html#hydpy.models.lland.lland_control.KG" title="hydpy.models.lland.lland_control.KG"><code class="xref py py-class docutils literal notranslate"><span class="pre">KG</span></code></a>) result in different output values (for variable
<a class="reference internal" href="lland.html#hydpy.models.lland.lland_fluxes.NKor" title="hydpy.models.lland.lland_fluxes.NKor"><code class="xref py py-class docutils literal notranslate"><span class="pre">NKor</span></code></a>).  Each time a new <a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a> version is pushed
into the <a class="reference external" href="https://github.com/tyralla/hydpy">GitHub repository</a>, automatic test routines on <a class="reference external" href="https://travis-ci.org/tyralla/hydpy/branches">Travis CI</a>
are trigged.  The new <a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a> version is rejected, if the
actual <a class="reference internal" href="lland.html#hydpy.models.lland.lland_model.calc_nkor_v1" title="hydpy.models.lland.lland_model.calc_nkor_v1"><code class="xref py py-func docutils literal notranslate"><span class="pre">calc_nkor_v1()</span></code></a> method does not result in the exact
same output values as given in the last line of the example.</p>
<p>Such basic “unit tests” should provide a good basis for discussing the
proper implementation of certain hydrological processes.  But they
are no proof a complete model is actually working well.  Therefore
<a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a> also offers some “integration test” functionalities.</p>
<p>Each integration test should demonstrate how a certain model could be
set up meaningfully.  Ideally, the model configuration should be varied
to show different aspects of its functionality.  See e.g. <a class="reference external" href="https://tyralla.github.io/hydpy/dam_v001.html#dam-v001-ex13">example 13</a>
of the documentation on model <a class="reference internal" href="dam_v001.html#module-hydpy.models.dam_v001" title="hydpy.models.dam_v001"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dam_v001</span></code></a>, which discusses the implemented
flood retention routine.  Here, example calculations are performed for a
period of 20 days, and for each day all input and output values, as well
as all internal states (e.g. the <a class="reference internal" href="dam.html#hydpy.models.dam.dam_states.WaterVolume" title="hydpy.models.dam.dam_states.WaterVolume"><code class="xref py py-class docutils literal notranslate"><span class="pre">WaterVolume</span></code></a>), are tabulated.
Again, <a class="reference external" href="https://travis-ci.org/tyralla/hydpy/branches">Travis CI</a> checks that all of these values are exactly recalculated
by each new <a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a> version.  Additionally, the tabulated values are
shown in a <a class="reference external" href="https://bokeh.pydata.org/en/latest/">Bokeh</a> plot, which is also updated for each new <a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a>
version automatically.  You can click on the variables and zoom into some
details you are actually interested in.</p>
<p>If there were some methodical or technical flaws in the retention routine
of <a class="reference internal" href="dam_v001.html#module-hydpy.models.dam_v001" title="hydpy.models.dam_v001"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dam_v001</span></code></a>, you would have good chances to find them when reading the
documentation critically.  You could tell us about your finding via a
<a class="reference external" href="https://github.com/tyralla/hydpy/issues">GitHub issue</a>, allowing us or others to read (and at best solve) the
problem.  Or you could try to solve it on your own and offer your solution
as a <a class="reference external" href="https://github.com/pulls">Pull Request</a>.  You could also add a new test to the documentation
files to prove that something goes wrong and offer it via a
<a class="reference external" href="https://github.com/pulls">Pull Request</a>, which would enable <a class="reference external" href="https://travis-ci.org/tyralla/hydpy/branches">Travis CI</a> to reject future
<a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a> versions that still contain this flaw.</p>
<p>We hope to have made clear that the design of <a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a> focusses
on open collaboration in order to improve existing and to develop
better models.  The <a class="reference internal" href="development.html#development"><span class="std std-ref">Development</span></a> section offers more information
on how to actually participate in the further development of <a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a>.
Section <a class="reference internal" href="modelcollection.html#modelcollection"><span class="std std-ref">Model Collection</span></a> lists all models implemented so far.
Sections <a class="reference internal" href="core.html#core"><span class="std std-ref">Core Modules</span></a> covers the basic functionalities of the
<a class="reference internal" href="#hydpy"><span class="std std-ref">HydPy</span></a> framework.  We hope to be able to offer some beginner
<a class="reference internal" href="tutorials.html#tutorials"><span class="std std-ref">Tutorials</span></a> based on real data soon.</p>
<div class="toctree-wrapper compound">
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li class="toctree-l1"><a class="reference internal" href="framework.html">Framework Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="modelcollection.html">Model Collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="framework.html"
                        title="next chapter">Framework Tools</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="framework.html" title="Framework Tools"
             >next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">HydPy 2.1-dev documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Christoph Tyralla.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>