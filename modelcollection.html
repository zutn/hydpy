
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Model Collection &#8212; HydPy 2.1-dev documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="HydPy-A (RIMO/RIDO)" href="HydPy-A.html" />
    <link rel="prev" title="validtools" href="validtools.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="HydPy-A.html" title="HydPy-A (RIMO/RIDO)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="validtools.html" title="validtools"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">HydPy 2.1-dev documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="model-collection">
<span id="modelcollection"></span><h1>Model Collection<a class="headerlink" href="#model-collection" title="Permalink to this headline">¶</a></h1>
<p>In <a class="reference internal" href="index.html#hydpy"><span class="std std-ref">HydPy</span></a>, many models are divided into groups (e.g. <a class="reference internal" href="HydPy-L.html#hydpy-l"><span class="std std-ref">HydPy-L (LARSIM)</span></a>)
and subgroups (e.g. <cite>HydPy-L-Land</cite>).</p>
<p>The existence of the groups is primarily due to historical reasons.
For example, all subgroups related to the original <a class="reference external" href="http://www.larsim.info/1/the-model/">LARSIM</a> model are
part of group <a class="reference internal" href="HydPy-L.html#hydpy-l"><span class="std std-ref">HydPy-L (LARSIM)</span></a>, despite their different functionality
(<cite>HydPy-L-Land</cite> for modelling “land processes”, <cite>HydPy-L-Stream</cite> for
modelling “stream processes”, and <cite>HydPy-L-Lake</cite> for modelling “lake
processes”).</p>
<p>The separation into subgroups is of greater importance.  Each subgroup
consists of one base model (e.g. <a class="reference internal" href="lland.html#module-hydpy.models.lland" title="hydpy.models.lland"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lland</span></code></a>) and a number of application
models (e.g. <a class="reference internal" href="lland_v1.html#module-hydpy.models.lland_v1" title="hydpy.models.lland_v1"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lland_v1</span></code></a>).  The base models offer basic features like
model parameter classes (e.g. <a class="reference internal" href="lland.html#hydpy.models.lland.lland_control.KG" title="hydpy.models.lland.lland_control.KG"><code class="xref py py-class docutils literal notranslate"><span class="pre">KG</span></code></a>), sequence classes
(e.g. <a class="reference internal" href="lland.html#hydpy.models.lland.lland_fluxes.NKor" title="hydpy.models.lland.lland_fluxes.NKor"><code class="xref py py-class docutils literal notranslate"><span class="pre">NKor</span></code></a>) and process equation methods (e.g.
<a class="reference internal" href="lland.html#hydpy.models.lland.lland_model.calc_nkor_v1" title="hydpy.models.lland.lland_model.calc_nkor_v1"><code class="xref py py-func docutils literal notranslate"><span class="pre">calc_nkor_v1()</span></code></a>), but cannot perform an actual simulation run.
This is the task of the application models, which select different
parameters, sequences, and process equations in a meaningful combination
and order.</p>
<p>If not stated otherwise, all models can be freely combined and applied
on arbitrary simulation time steps.  It is, for example, possible to
simulate the “land processes” with <a class="reference internal" href="hland_v1.html#module-hydpy.models.hland_v1" title="hydpy.models.hland_v1"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hland_v1</span></code></a>, the “stream processes”
with <a class="reference internal" href="arma_v1.html#module-hydpy.models.arma_v1" title="hydpy.models.arma_v1"><code class="xref py py-mod docutils literal notranslate"><span class="pre">arma_v1</span></code></a>, the “dam processes” with <a class="reference internal" href="dam_v001.html#module-hydpy.models.dam_v001" title="hydpy.models.dam_v001"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dam_v001</span></code></a> in either a daily
or hourly time step.</p>
<p>Often base models offer different versions of a method to calculate the
value of the same variable.  For example, base model <a class="reference internal" href="dam.html#module-hydpy.models.dam" title="hydpy.models.dam"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dam</span></code></a> offers two
methods for picking its <a class="reference internal" href="dam.html#hydpy.models.dam.dam_fluxes.Inflow" title="hydpy.models.dam.dam_fluxes.Inflow"><code class="xref py py-class docutils literal notranslate"><span class="pre">Inflow</span></code></a>: <a class="reference internal" href="dam.html#hydpy.models.dam.dam_model.pic_inflow_v1" title="hydpy.models.dam.dam_model.pic_inflow_v1"><code class="xref py py-func docutils literal notranslate"><span class="pre">pic_inflow_v1()</span></code></a>
and <a class="reference internal" href="dam.html#hydpy.models.dam.dam_model.pic_inflow_v2" title="hydpy.models.dam.dam_model.pic_inflow_v2"><code class="xref py py-func docutils literal notranslate"><span class="pre">pic_inflow_v2()</span></code></a>.  Each application model has to select a
specific version of the method.  Exemples here are application model
<a class="reference internal" href="dam_v001.html#module-hydpy.models.dam_v001" title="hydpy.models.dam_v001"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dam_v001</span></code></a> selecting <a class="reference internal" href="dam.html#hydpy.models.dam.dam_model.pic_inflow_v1" title="hydpy.models.dam.dam_model.pic_inflow_v1"><code class="xref py py-func docutils literal notranslate"><span class="pre">pic_inflow_v1()</span></code></a> and application model
<a class="reference internal" href="dam_v005.html#module-hydpy.models.dam_v005" title="hydpy.models.dam_v005"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dam_v005</span></code></a> selecting <a class="reference internal" href="dam.html#hydpy.models.dam.dam_model.pic_inflow_v2" title="hydpy.models.dam.dam_model.pic_inflow_v2"><code class="xref py py-func docutils literal notranslate"><span class="pre">pic_inflow_v2()</span></code></a>.  The following example
shows this for application model <a class="reference internal" href="dam_v005.html#module-hydpy.models.dam_v005" title="hydpy.models.dam_v005"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dam_v005</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hydpy.models.dam_v005</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameterstep</span><span class="p">(</span><span class="s1">&#39;1d&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s1">&#39;pic_inflow_v2&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s1">&#39;pic_inflow_v1&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>For simplicity, you can skip the version number when trying to access
a certain method of an application model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s1">&#39;pic_inflow&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Note that this way to construct different application models is very
different from the usual design of hydrological models, where only
one model exists.  Here it is the responsibility of the user to combine
different possible methods in a meaningful combination, usually via
setting some options in configuration files.</p>
<p>In the light of experience that model users are often overstrained with
such decisions when using complex models and that it is often very hard to
communicate (and remember) all selected settings, we favour the more
reliable “application model” approach.  This allows the model developer to
carefully check the combination of methods he selected by himself
in thorough integration tests.  And it allows him to document how he
thinks the application model should actually be used.  On the downside,
eventually many application models must be compiled in order to support
different combinations of methods.  To keep this problem small, newly
implemented models should be kept small.  But this also depends on
other design decisions (e.g. how process equations are numerically solved)
and will have to be discussed later.</p>
<div class="toctree-wrapper compound">
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="framework.html">Framework Tools</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Model Collection</a><ul>
<li class="toctree-l2"><a class="reference internal" href="HydPy-A.html">HydPy-A (RIMO/RIDO)</a></li>
<li class="toctree-l2"><a class="reference internal" href="HydPy-D.html">HydPy-D (DAM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="HydPy-H.html">HydPy-H (HBV)</a></li>
<li class="toctree-l2"><a class="reference internal" href="HydPy-L.html">HydPy-L (LARSIM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="HydPy-T.html">HydPy-T (TESTING)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="validtools.html"
                        title="previous chapter">validtools</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="HydPy-A.html"
                        title="next chapter">HydPy-A (RIMO/RIDO)</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/modelcollection.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="HydPy-A.html" title="HydPy-A (RIMO/RIDO)"
             >next</a> |</li>
        <li class="right" >
          <a href="validtools.html" title="validtools"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">HydPy 2.1-dev documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Christoph Tyralla.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>